<%- include('header', {seoDetails}) %>


<div id="smooth-wrapper">
    <div id="smooth-content">
        <main>
            <!--======  Start Page Hero Section  ======-->
            <section class="page-hero bg_cover p-r z-1" data-src="assets/images/innerpage/bg/page-bg.html">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <!--=== Page Content ===-->
                            <div class="page-content text-center">
                                <h1>Services</h1>
                                <ul>
                                    <li><a href="/">Home</a></li>
                                    <li>Services</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section><!--======  End Page Hero Section  ======-->
            <!--======  Start Service Section  ======-->
            <section class="renvia-contact_three pt-80 pb-120">
                <div class="container">
                    <!--=== Contact Wrapper ===-->
                    <div class="contact-wrapper" data-aos="fade-up" data-aos-duration="1000">
                        <h3>Enquiry for Insurance</h3>
                        <form id="serviceform1" class="contact-form" method="POST">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-user"></i></label>
                                        <input type="text" class="form_control" placeholder="Your Name" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name %>" required>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-envelope"></i></label>
                                        <input type="email" class="form_control" placeholder="Email Address" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email %>" required>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-phone"></i></label>
                                        <input type="tel" class="form_control" placeholder="Phone Number" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone %>" 
                                               pattern="[0-9]{10}" 
                                               maxlength="10" 
                                               minlength="10" 
                                               title="Please enter exactly 10 digits" 
                                               required
                                               oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-map-marker-alt"></i></label>
                                        <input type="text" class="form_control" placeholder="Address" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.address %>" required>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label><i class="far fa-pen"></i></label>
                                        <textarea class="form_control" placeholder="Message" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks %>" rows="5" cols="8"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group text-center">
                                        <button class="theme-btn style-one">Send Message Us <i class="far fa-arrow-right"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
            
            
            <section class="renvia-contact_three pt-80 pb-120">
                <div class="container">
                    <!--=== Contact Wrapper ===-->
                    <div class="contact-wrapper" data-aos="fade-up" data-aos-duration="1000">
                        <h3>Enquiry for Investment Consultancy</h3>
                        <form id="serviceform2" class="contact-form" method="POST">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-user"></i></label>
                                        <input type="text" class="form_control" placeholder="Your Name" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name %>" required>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-envelope"></i></label>
                                        <input type="email" class="form_control" placeholder="Email Address" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email %>" required>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-phone"></i></label>
                                        <input type="tel" class="form_control" placeholder="Phone Number" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone %>" 
                                               pattern="[0-9]{10}" 
                                               maxlength="10" 
                                               minlength="10" 
                                               title="Please enter exactly 10 digits" 
                                               required
                                               oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label><i class="far fa-map-marker-alt"></i></label>
                                        <input type="text" class="form_control" placeholder="Address" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.address %>" required>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label><i class="far fa-pen"></i></label>
                                        <textarea class="form_control" placeholder="Message" name="<%= SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks %>" rows="5" cols="8"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group text-center">
                                        <button class="theme-btn style-one">Send Message Us <i class="far fa-arrow-right"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section><!--======  End Contact Section  ======-->
        </main>

<%- include('footer') %>
<script>
    // Listen for form submission
    document.getElementById('serviceform1').addEventListener('submit', async function (e) { 
        e.preventDefault(); // Prevent the default form submission
    
        try {
            const API_BASE_URL = "<%= API_BASE_URL %>";
            const websiteID = "<%= websiteID %>";
            const WEBSITEIDKEY = "<%= WEBSITE_ID_KEY %>";
            const SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS = <%- JSON.stringify(SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS) %>;
    
            const CREATE_SERVICE_ENQUIRY_END_POINT = `${API_BASE_URL}/website/${websiteID}/service-enquiry/create`;
    
            const WEBSITE_ID_KEY = WEBSITEIDKEY;
    
            // Prepare the payload from the form fields
            const payload = {
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name]: serviceform1.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone]: Number(serviceform1.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone}"]`
                ).value),
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email]: serviceform1.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.address]: serviceform1.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.address}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks]: serviceform1.querySelector(
                    `textarea[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.serviceType]: "INSURANCE",

            };
    
            // Set headers for the request
            const headers = new Headers({
                "Content-Type": "application/json",
            });
    
            // Send POST request to the API
            const response = await fetch(CREATE_SERVICE_ENQUIRY_END_POINT, {
                method: "POST",
                headers,
                body: JSON.stringify(payload),
            });
    
            // Handle response
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
    
            const data = await response.json();
    
            // Redirect to the thank-you page on success
            sessionStorage.setItem("thankYouMessage", "We've Recieved Your Message and will Contact you soon.");
            window.location.href = "/thankyou";
        } catch (error) {
            console.error("Form submission error", error);
            // Optionally, you can show an error message or log the error
        }
    });
    
            
            </script><script>
    // Listen for form submission
    document.getElementById('serviceform2').addEventListener('submit', async function (e) { 
        e.preventDefault(); // Prevent the default form submission
    
        try {
            const API_BASE_URL = "<%= API_BASE_URL %>";
            const websiteID = "<%= websiteID %>";
            const WEBSITEIDKEY = "<%= WEBSITE_ID_KEY %>";
            const SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS = <%- JSON.stringify(SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS) %>;
    
            const CREATE_SERVICE_ENQUIRY_END_POINT = `${API_BASE_URL}/website/${websiteID}/service-enquiry/create`;
    
            const serviceform2 = e.target; // Reference to the form element
            const WEBSITE_ID_KEY = WEBSITEIDKEY;
    
            // Prepare the payload from the form fields
            const payload = {
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name]: serviceform2.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.name}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone]: Number(serviceform2.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone}"]`
                ).value),
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email]: serviceform2.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.email}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.address]: serviceform2.querySelector(
                    `input[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.address}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks]: serviceform2.querySelector(
                    `textarea[name="${SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks}"]`
                ).value,
                [SERVICE_ENQUIRY_DYNAMIC_FIELDS_KEYS.serviceType]: "INVESTMENT",

            };
    
            // Set headers for the request
            const headers = new Headers({
                "Content-Type": "application/json",
            });
    
            // Send POST request to the API
            const response = await fetch(CREATE_SERVICE_ENQUIRY_END_POINT, {
                method: "POST",
                headers,
                body: JSON.stringify(payload),
            });
    
            // Handle response
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
    
            const data = await response.json();
    
            // Redirect to the thank-you page on success
            sessionStorage.setItem("thankYouMessage", "We've Recieved Your Message and will Contact you soon.");
            window.location.href = "/thankyou";
        } catch (error) {
            console.error("Form submission error", error);
            // Optionally, you can show an error message or log the error
        }
    });
    
            
            </script>