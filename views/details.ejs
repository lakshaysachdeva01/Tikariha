<%- include('header'), {seoDetails} %>
    <div id="smooth-wrapper" style="padding-top: 40px;">
        <div id="smooth-content">
            <main>


                <section class="renvia-project-details-sec pt-120">
                    <div class="container">
                        <!-- Project Details Wrapper -->
                        <div class="project-details-wrapper">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="project-main">


                                        <div class="content-box">
                                            <div class="row">
                                                <div class="col-xl-8">
                                                    <% if (projectDetails.youtubeLink) { 
                                                        // Extract YouTube ID
                                                        function getYouTubeId(url) {
                                                            if (!url) return null;
                                                            const patterns = [
                                                                /(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,
                                                                /youtube\.com\/v\/([a-zA-Z0-9_-]{11})/,
                                                                /youtu\.be\/([a-zA-Z0-9_-]{11})/
                                                            ];
                                                            
                                                            for (const pattern of patterns) {
                                                                const match = url.match(pattern);
                                                                if (match && match[1]) {
                                                                    return match[1];
                                                                }
                                                            }
                                                            return null;
                                                        }
                                                        
                                                        const youtubeId = getYouTubeId(projectDetails.youtubeLink);
                                                        
                                                        if (youtubeId) { 
                                                    %>
                                                        <!-- YouTube Video Player -->
                                                        <div class="project-video mb-40" data-aos="fade-up" data-aos-duration="1000">
                                                            <div class="video-container" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; border-radius: 12px;">
                                                                <iframe 
                                                                    src="https://www.youtube.com/embed/<%= youtubeId %>?rel=0&modestbranding=1&showinfo=0&autoplay=0" 
                                                                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;" 
                                                                    frameborder="0" 
                                                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                                    allowfullscreen
                                                                    loading="lazy"
                                                                    title="<%= projectDetails.projectName %> Video">
                                                                </iframe>
                                                            </div>
                                                        </div>
                                                    <% } else { %>
                                                        <!-- Fallback to cover image if YouTube URL is invalid -->
                                                        <div class="project-thumbnail mb-40" data-aos="fade-up" data-aos-duration="1000">
                                                            <img src="<%= process.env.S3_BASE_URL + projectDetails.coverImage %>"
                                                                 alt="<%= projectDetails.projectName %>"
                                                                 class="img-fluid">
                                                        </div>
                                                    <% } %>
                                                    <% } else { %>
                                                        <!-- No YouTube link, show cover image only -->
                                                        <div class="project-thumbnail mb-40" data-aos="fade-up" data-aos-duration="1000">
                                                            <img src="<%= process.env.S3_BASE_URL + projectDetails.coverImage %>"
                                                                 alt="<%= projectDetails.projectName %>"
                                                                 class="img-fluid">
                                                        </div>
                                                    <% } %>
                                                
                                                    <div class="project-content" data-aos="fade-up"
                                                        data-aos-duration="1200">
                                                        <div class="project-meta-list top-button">
                                                            <% const titleCase=(str)=>
                                                                str
                                                                .replace(/_/g, ' ')
                                                                .toLowerCase()
                                                                .replace(/\b\w/g, char => char.toUpperCase());
                                                                %>

                                                                <div style="display: flex;flex-wrap: wrap; gap: 10px;">
                                                                    <div class="renvia-info-item   style-three ">

                                                                        <div class="info">
                                                                            <h6>
                                                                                <%= titleCase(projectDetails.possesion)
                                                                                    %>
                                                                            </h6>
                                                                        </div>
                                                                    </div>
                                                                    <div class="renvia-info-item style-three ">

                                                                        <div class="info">
                                                                            <h6>
                                                                                <%= titleCase(projectDetails.projectType)
                                                                                    %>
                                                                            </h6>
                                                                        </div>
                                                                    </div>
                                                                    <div class="renvia-info-item style-three ">
                                                                        <div class="info">
                                                                            <h6>
                                                                                <%= titleCase(projectDetails.locality)
                                                                                    %> , <%=
                                                                                        titleCase(projectDetails.city)
                                                                                        %>
                                                                            </h6>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            <% if (projectDetails.brochure && projectDetails.brochure !== "null") { %>
                                                                <div class="renvia-info-item style-three ">

                                                                    <div class="info download-brochure">
                                                                        <h6
                                                                            style="display: flex; align-items: center; justify-content: center;">
                                                                            <a style=" color: #40329b !important;" href="<%= process.env.S3_BASE_URL + projectDetails.brochure %>"
                                                                                target="_blank"><span
                                                                                    style="height: 20px; width: 20px; margin-right: 6px; "><svg
                                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                                        width="20" height="20"
                                                                                        fill="  #40329b "
                                                                                        viewBox="0 0 256 256">
                                                                                        <path
                                                                                            d="M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z">
                                                                                        </path>
                                                                                    </svg></span> Download Brochure</a>
                                                                        </h6>
                                                                    </div>
                                                                </div>
                                                                <% } %>
                                                        </div>
                                                        <div style="display: flex; gap: 20px;     border-bottom: 1px solid #c3c3c3;">
<img src="<%= process.env.S3_BASE_URL + projectDetails.projectLogo %>" style="width: 80px; height: 80px; object-fit: cover; border-radius: 100%;" alt="<%= projectDetails.projectName %>">
                                                            <div style="display: flex; flex-direction: column;">
                                                        <h3 class="title" style="margin-bottom: 4px; ">
                                                            <%= projectDetails.projectName %>
                                                        </h3>
                                                        <div class="location" style="padding-bottom: 22px; "><i
                                                                class="far fa-map-marker-alt"></i>
                                                            <%= titleCase(projectDetails.locality) %> , <%=
                                                                    titleCase(projectDetails.city) %>
                                                        </div>
                                                    </div>
                                                    </div>



                                                    <div class="project-description-block mt-30">
                                                        <div id="project-description-truncate">
                                                            <!-- Truncated content will appear here -->
                                                        </div>
                                                        <div id="project-description-full" style="display: none;">
                                                            <!-- Full content will appear here -->
                                                        </div>
                                                        <button id="read-more-btn"  style="color: #4b3bad;
                                                        font-size: 15px;
                                                        font-style: italic;
                                                        background: transparent;
                                                        font-weight: 400; display: none;">
                                                          ... Read More 
                                                        </button>
                                                        <button id="read-less-btn"  style="color: #4b3bad;
                                                        font-size: 15px;
                                                        background: transparent;
                                                        font-style: italic;
                                                        font-weight: 400; display: none;">
                                                           ... Read Less
                                                        </button>
                                                    </div>
                                                    
                                                    <script>
                                                    document.addEventListener('DOMContentLoaded', function() {
                                                        // Function to decode HTML entities
                                                        function decodeHTMLEntities(text) {
                                                            const textarea = document.createElement('textarea');
                                                            textarea.innerHTML = text;
                                                            return textarea.value;
                                                        }
                                                        
                                                        // Function to clean HTML - remove empty tags and &nbsp;
                                                        function cleanHtml(html) {
                                                            const tempDiv = document.createElement('div');
                                                            tempDiv.innerHTML = html;
                                                            
                                                            // Remove empty paragraphs and paragraphs with only &nbsp;
                                                            const paragraphs = tempDiv.querySelectorAll('p');
                                                            paragraphs.forEach(p => {
                                                                const text = p.textContent.trim();
                                                                const htmlContent = p.innerHTML.trim();
                                                                
                                                                // Check if paragraph is empty or contains only whitespace/&nbsp;
                                                                if (!text || 
                                                                    text === '' || 
                                                                    htmlContent === '&nbsp;' || 
                                                                    htmlContent === '' ||
                                                                    htmlContent.replace(/&nbsp;/g, '').replace(/\s/g, '') === '') {
                                                                    p.remove();
                                                                } else {
                                                                    // Clean &nbsp; from non-empty paragraphs
                                                                    p.innerHTML = p.innerHTML.replace(/&nbsp;/g, ' ').trim();
                                                                }
                                                            });
                                                            
                                                            // Remove any other empty tags (span, div, etc.)
                                                            const allElements = tempDiv.querySelectorAll('*');
                                                            allElements.forEach(el => {
                                                                const text = el.textContent.trim();
                                                                const htmlContent = el.innerHTML.trim();
                                                                
                                                                if (!text && 
                                                                    (htmlContent === '' || 
                                                                     htmlContent === '&nbsp;' || 
                                                                     htmlContent.replace(/&nbsp;/g, '').replace(/\s/g, '') === '')) {
                                                                    el.remove();
                                                                }
                                                            });
                                                            
                                                            // Remove multiple spaces
                                                            let cleanedHtml = tempDiv.innerHTML;
                                                            cleanedHtml = cleanedHtml.replace(/\s+/g, ' ');
                                                            cleanedHtml = cleanedHtml.replace(/\n\s*\n/g, '\n');
                                                            
                                                            return cleanedHtml;
                                                        }
                                                        
                                                        // Get ALL descriptions from the array
                                                        const descriptions = [
                                                            `<%- projectDetails.projectDescrpition[0].description %>`,
                                                            `<%- projectDetails.projectDescrpition[1] ? projectDetails.projectDescrpition[1].description : '' %>`
                                                        ].filter(desc => desc && desc.trim() !== '');
                                                        
                                                        // Combine all descriptions into one HTML string and clean it
                                                        let fullDescription = '';
                                                        descriptions.forEach(desc => {
                                                            if (desc && desc.trim() !== '') {
                                                                const decoded = decodeHTMLEntities(desc);
                                                                const cleaned = cleanHtml(decoded);
                                                                fullDescription += cleaned;
                                                            }
                                                        });
                                                        
                                                        // Function to strip HTML tags and get plain text
                                                        function stripHtmlTags(html) {
                                                            const tempDiv = document.createElement('div');
                                                            tempDiv.innerHTML = html;
                                                            
                                                            // Remove script and style elements
                                                            const scripts = tempDiv.querySelectorAll('script, style');
                                                            scripts.forEach(el => el.remove());
                                                            
                                                            // Get text content
                                                            return tempDiv.textContent || tempDiv.innerText || '';
                                                        }
                                                        
                                                        // Function to truncate HTML while preserving structure
                                                        function truncateHtml(html, maxChars = 400) {
                                                            const plainText = stripHtmlTags(html);
                                                            
                                                            if (plainText.length <= maxChars) {
                                                                return { truncated: html, isTruncated: false };
                                                            }
                                                            
                                                            // Create a temporary container
                                                            const tempDiv = document.createElement('div');
                                                            tempDiv.innerHTML = html;
                                                            
                                                            let charCount = 0;
                                                            let resultHtml = '';
                                                            
                                                            function traverseNodes(node) {
                                                                if (charCount >= maxChars) return;
                                                                
                                                                if (node.nodeType === Node.TEXT_NODE) {
                                                                    let text = node.textContent;
                                                                    
                                                                    if (charCount + text.length > maxChars) {
                                                                        // Need to truncate this text
                                                                        const remaining = maxChars - charCount;
                                                                        if (remaining > 0) {
                                                                            // Try to find a good breaking point (space or punctuation)
                                                                            let slicePoint = remaining;
                                                                            const textSlice = text.substring(0, remaining + 20); // Look ahead a bit
                                                                            
                                                                            // Look for sentence endings first
                                                                            const lastPeriod = textSlice.lastIndexOf('.');
                                                                            const lastExclamation = textSlice.lastIndexOf('!');
                                                                            const lastQuestion = textSlice.lastIndexOf('?');
                                                                            const lastSpace = textSlice.lastIndexOf(' ');
                                                                            
                                                                            if (lastPeriod > remaining * 0.7) slicePoint = lastPeriod + 1;
                                                                            else if (lastExclamation > remaining * 0.7) slicePoint = lastExclamation + 1;
                                                                            else if (lastQuestion > remaining * 0.7) slicePoint = lastQuestion + 1;
                                                                            else if (lastSpace > remaining * 0.6) slicePoint = lastSpace;
                                                                            
                                                                            if (slicePoint < remaining) {
                                                                                resultHtml += text.substring(0, slicePoint);
                                                                            } else {
                                                                                resultHtml += text.substring(0, remaining);
                                                                            }
                                                                        }
                                                                        charCount = maxChars;
                                                                    } else {
                                                                        resultHtml += text;
                                                                        charCount += text.length;
                                                                    }
                                                                } else if (node.nodeType === Node.ELEMENT_NODE) {
                                                                    // Skip certain tags for truncation
                                                                    const tagName = node.tagName.toLowerCase();
                                                                    const isInline = ['span', 'strong', 'em', 'b', 'i', 'a', 'code'].includes(tagName);
                                                                    
                                                                    if (!isInline) {
                                                                        // For block elements, check if we should add them
                                                                        if (charCount >= maxChars) return;
                                                                    }
                                                                    
                                                                    // Open tag
                                                                    resultHtml += `<${tagName}`;
                                                                    
                                                                    // Add attributes
                                                                    for (let attr of node.attributes) {
                                                                        resultHtml += ` ${attr.name}="${attr.value}"`;
                                                                    }
                                                                    resultHtml += '>';
                                                                    
                                                                    // Process children
                                                                    for (let child of node.childNodes) {
                                                                        traverseNodes(child);
                                                                        if (charCount >= maxChars) break;
                                                                    }
                                                                    
                                                                    // Close tag if needed
                                                                    if (!['br', 'hr', 'img', 'input', 'meta', 'link'].includes(tagName)) {
                                                                        resultHtml += `</${tagName}>`;
                                                                    }
                                                                    
                                                                    // Add space after block elements
                                                                    if (!isInline && charCount < maxChars) {
                                                                        resultHtml += ' ';
                                                                    }
                                                                }
                                                            }
                                                            
                                                            // Process all child nodes
                                                            for (let child of tempDiv.childNodes) {
                                                                traverseNodes(child);
                                                                if (charCount >= maxChars) break;
                                                            }
                                                            
                                                            // Add ellipsis if we truncated
                                                            if (charCount >= maxChars) {
                                                                resultHtml += '';
                                                                
                                                                // Close any unclosed tags (simple approach)
                                                                const tagStack = [];
                                                                const regex = /<(\/?)([a-zA-Z]+)[^>]*>/g;
                                                                let match;
                                                                while ((match = regex.exec(resultHtml)) !== null) {
                                                                    if (match[1] === '') {
                                                                        // Opening tag
                                                                        tagStack.push(match[2]);
                                                                    } else {
                                                                        // Closing tag
                                                                        tagStack.pop();
                                                                    }
                                                                }
                                                                
                                                                // Close any remaining open tags
                                                                while (tagStack.length > 0) {
                                                                    const tag = tagStack.pop();
                                                                    resultHtml += `</${tag}>`;
                                                                }
                                                            }
                                                            
                                                            return { 
                                                                truncated: resultHtml, 
                                                                isTruncated: charCount >= maxChars 
                                                            };
                                                        }
                                                        
                                                        // Check if we have any content
                                                        if (!fullDescription || fullDescription.trim() === '') {
                                                            document.querySelector('.project-description-block').innerHTML = 
                                                                '<p>No description available.</p>';
                                                            return;
                                                        }
                                                        
                                                        // Check if content needs truncation
                                                        const plainText = stripHtmlTags(fullDescription);
                                                        const needsTruncation = plainText.length > 400;
                                                        
                                                        if (needsTruncation) {
                                                            // Truncate the HTML
                                                            const result = truncateHtml(fullDescription, 400);
                                                            
                                                            // Show truncated version
                                                            document.getElementById('project-description-truncate').innerHTML = 
                                                                result.truncated;
                                                            document.getElementById('project-description-full').innerHTML = 
                                                                fullDescription;
                                                            
                                                            // Show Read More button
                                                            document.getElementById('read-more-btn').style.display = 'inline-block';
                                                        } else {
                                                            // Show full content if it's short
                                                            document.getElementById('project-description-truncate').innerHTML = 
                                                                fullDescription;
                                                            
                                                            // Remove the full div and buttons since we don't need them
                                                            document.getElementById('project-description-full').remove();
                                                            document.getElementById('read-more-btn').remove();
                                                            document.getElementById('read-less-btn').remove();
                                                            return;
                                                        }
                                                        
                                                        // Get references to elements
                                                        const truncateDiv = document.getElementById('project-description-truncate');
                                                        const fullDiv = document.getElementById('project-description-full');
                                                        const readMoreBtn = document.getElementById('read-more-btn');
                                                        const readLessBtn = document.getElementById('read-less-btn');
                                                        
                                                        // Button click handlers
                                                        readMoreBtn.addEventListener('click', function() {
                                                            truncateDiv.style.display = 'none';
                                                            fullDiv.style.display = 'block';
                                                            readMoreBtn.style.display = 'none';
                                                            readLessBtn.style.display = 'inline-block';
                                                            
                                                            // Smooth scroll to show more content
                                                            setTimeout(() => {
                                                                fullDiv.scrollIntoView({ 
                                                                    behavior: 'smooth', 
                                                                    block: 'start' 
                                                                });
                                                            }, 100);
                                                        });
                                                        
                                                        readLessBtn.addEventListener('click', function() {
                                                            truncateDiv.style.display = 'block';
                                                            fullDiv.style.display = 'none';
                                                            readMoreBtn.style.display = 'inline-block';
                                                            readLessBtn.style.display = 'none';
                                                            
                                                            // Scroll back to the truncated content
                                                            truncateDiv.scrollIntoView({ 
                                                                behavior: 'smooth', 
                                                                block: 'nearest' 
                                                            });
                                                        });
                                                    });
                                                    </script>
                                                    
                                                    <style>
                                                    .project-description-block {
                                                        position: relative;
                                                        line-height: 1.6;
                                                        font-size: 16px;
                                                    }
                                                    
                                                    #project-description-truncate,
                                                    #project-description-full {
                                                        transition: opacity 0.3s ease;
                                                    }
                                                    
                                                    /* Remove default margins and clean up paragraphs */
                                                    #project-description-truncate p,
                                                    #project-description-full p {
                                                        margin: 0.5em 0 !important;
                                                        color: #555;
                                                    }
                                                    
                                                    /* Ensure empty paragraphs don't create space */
                                                    #project-description-truncate p:empty,
                                                    #project-description-full p:empty {
                                                        display: none !important;
                                                    }
                                                    
                                                    /* Clean up headings */
                                                    #project-description-truncate h2,
                                                    #project-description-full h2 {
                                                        font-size: 1.5em;
                                                        margin: 1em 0 0.5em 0;
                                                        color: #333;
                                                        clear: both;
                                                    }
                                                    
                                                    /* Clean up lists */
                                                    #project-description-truncate ul,
                                                    #project-description-full ul {
                                                        margin: 0.5em 0;
                                                        padding-left: 1.5em;
                                                    }
                                                    
                                                    #project-description-truncate li,
                                                    #project-description-full li {
                                                        margin: 0.3em 0;
                                                    }
                                                    
                                                    /* Clean up tables */
                                                    #project-description-truncate table,
                                                    #project-description-full table {
                                                        width: 100%;
                                                        border-collapse: collapse;
                                                        margin: 1em 0;
                                                        border: 1px solid #ddd;
                                                    }
                                                    
                                                    #project-description-truncate th,
                                                    #project-description-full th {
                                                        background-color: #f5f5f5;
                                                        padding: 10px;
                                                        text-align: left;
                                                        border: 1px solid #ddd;
                                                    }
                                                    
                                                    #project-description-truncate td,
                                                    #project-description-full td {
                                                        padding: 10px;
                                                        border: 1px solid #ddd;
                                                    }
                                                    
                                                    /* Remove any leftover &nbsp; spacing */
                                                    #project-description-truncate *,
                                                    #project-description-full * {
                                                        white-space: normal !important;
                                                    }
                                                    
                                                    /* Style for the buttons */
                                                   
                                                  
                                                    
                                                    #read-more-btn:active,
                                                    #read-less-btn:active {
                                                        transform: translateY(0);
                                                    }
                                                    
                                                    #read-more-btn i,
                                                    #read-less-btn i {
                                                        font-size: 12px;
                                                        transition: transform 0.3s ease;
                                                    }
                                                    
                                                 
                                                    </style>


                                                    <% if (projectDetails.amenities?.length) { %>
                                                        <h3 class="ah-title" >Amenities</h3>
                                                        <ul class="amenities-list">
                                                            <% projectDetails.amenities.forEach(amenity=> { %>
                                                                <li>
                                                                   
                                                                    <%= titleCase(amenity) %>
                                                                </li>
                                                                <% }) %>
                                                        </ul>
                                                        <% } %>

                                                            <% if (projectDetails.projectHighlight) { %>
                                                                <h3  class="ah-title">Highlights</h3>

                                                                <ul class="highlights-list" style="padding-bottom: 60px;">
                                                                    <% projectDetails.projectHighlight .split(',')
                                                                        .map(h=> h.trim())
                                                                        .filter(Boolean)
                                                                        .forEach(highlight => { %>

                                                                        <li>
                                                                        
                                                                            <%= highlight %>
                                                                        </li>

                                                                        <% }) %>
                                                                </ul>
                                                                <% } %>


                                                </div>
                                                </div>
                                                <div class="col-xl-4 ">
                                                    <section class="renvia-contact_two pb-120" style="background-color: #f8f9f8; padding: 18px; border-radius: 14px;" data-aos="fade-up" data-aos-duration="1000">
                                                        <div class="container">
                                                            <div class="contact-wrapper" style="border-top: none; padding-top: 0;">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <!-- Section Title -->
                                                                        <div class="section-title  mb-30">
                                                                            <h3>Get in Touch</h3>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <form id="productform">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">
                                                                            <div class="form-group">
                                                                                <input type="text" class="form_control" placeholder="Full Name*" name="<%= PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.name %>"
                                                                                    required>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-lg-12">
                                                                            <div class="form-group">
                                                                                <input type="tel" class="form_control" placeholder="Contact Number*" name="<%= PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone %>"
                                                                                    required>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-lg-12">
                                                                            <div class="form-group">
                                                                                <input type="email" class="form_control" placeholder="Email Address*" name="<%= PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.email %>"
                                                                                    required>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-lg-12">
                                                                            <div class="form-group">
                                                                                <input type="text" class="form_control" placeholder="City" name="<%= PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.city %>"
                                                                                    >
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-lg-12">
                                                                            <div class="form-group">
                                                                                <textarea name="<%= PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks %>" placeholder="Your Massage" rows="4"
                                                                                    class="form_control"></textarea>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-lg-12">
                                                                            <div class="form-group text-end">
                                                                                <button class="theme-btn style-one" id="submit">Send A Request<i
                                                                                        class="far fa-arrow-right"></i></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </section>
                                                </div>
                                            </div>
                                        </div>
                                     
                                   

                                        
                                       
                                      
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
      
        </section><!--======  End Project Details Section  ======-->
        <!--======  Start Contact Section  ======-->
        <section class="renvia-project_two pt-115 pb-80 overflow-hidden" style="background-color: #0b0629; margin-bottom: -15px;">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xl-6 col-lg-8">
                        <div class="section-title text-white text-center mb-55">
                            <span class="sub-title" data-aos="fade-down" data-aos-duration="1000">Project at a Glance</span>
                            <h2 class="text-anm">Key visuals of value & layout</h2>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Project Slider -->
            <div class="project-slider" data-aos="fade-up" data-aos-duration="1000">
              
                
                <!-- Renvia Project Item -->
                <% projectDetails.projectPictures.forEach(picture => { %>
                    <div class="renvia-project-item style-two">
                        <div class="project-thumbnail">
                            <a href="#" class="property-media-trigger" 
                            data-type="image" 
                            data-src="<%= process.env.S3_BASE_URL + picture %>">
                            <img src="<%= process.env.S3_BASE_URL + picture %>" alt="project thumbnail">
                            </a>
                        </div>
                    </div>
                <% }); %>
            </div>
            <div class="container">
                <!-- Counter Wrapper -->
                <div class="counter-wrapper pt-80 text-white" data-aos="fade-up" data-aos-duration="1200">
                    <div class="row" style="display: flex; justify-content: center; gap:12px">
                        <button class="theme-btn style-one" style="max-width: 280px;" onclick="scrollToTop()">
                            Enquire For This Project<i class="far fa-arrow-right"></i>
                        </button>
                      
                    </div>
                </div>
            </div>
        </section>

        </main>
        <%- include('footer') %>
    </div>
    </div>




    <%- include('./partials/popup') %>

    <style>
        /* Solution 1 - Simple fixed height */
.project-slider .project-thumbnail img {
    width: 100%;
    height: 300px;
    width: 450px;
    object-fit: cover;
    object-position: center;
}


/* Optional: Add hover effect */
.project-slider .project-thumbnail img {
    transition: transform 0.3s ease;
}

        .top-button .info {
            background-color: #efefef;
            padding: 4px 16px;
            border-radius: 12px;
            font-weight: lighter;
        }

li::marker{
    color: var(--primary-color);
}


        .ah-title{
            margin-top: 30px;
            padding-bottom: 16px;
        }

        .project-description-block h1, .project-description-block h2, .project-description-block h3, .project-description-block h4, .project-description-block h5, .project-description-block h6{
            font-size: 18px;
            margin-top: 30px;
            margin-bottom: 14px;
        }

        .renvia-contact_two{
            position: sticky;
            top: 100px;
            align-self: flex-start;
        }

        .download-brochure {
            background-color: #5e40e01a !important;
           
        }

        .top-button .info h6 {
            font-weight: 400;
        }

        .amenities-list{
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px 20px;
        }


 .highlights-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px 20px;
        }


        .renvia-project-details-sec {
            max-width: 1200px;
            margin: 0 auto;
        }

        .project-thumbnail img {
            max-height: 85vh;
            object-fit: cover;
        }


        .top-button{
            margin-bottom: 30px;
        }
        @media (max-width: 768px) {
    .project-slider{
        padding:0  15px ;
    }
    .project-slider .project-thumbnail img{
        max-width: 100%;
        height: 350px;

    }
    .top-button{
            margin-bottom: 0px;
        }
  
        .amenities-list{
            grid-template-columns: repeat(2, 1fr);

        }

       .highlights-list {
            grid-template-columns: repeat(1, 1fr);
         
        }
        .download-brochure{
            margin-top: 12px;
            margin-bottom: 30px;
        }

}
    </style>


<script>
    
    document.getElementById('productform').addEventListener('submit', async function (e) { 
          e.preventDefault(); // Prevent the default form submission
      
          try {
              const API_BASE_URL = "<%= API_BASE_URL %>";
              const websiteID = "<%= websiteID %>";
              const WEBSITEIDKEY = "<%= WEBSITE_ID_KEY %>";
              const PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS = <%- JSON.stringify(PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS) %>;
      
              const CREATE_PROJECT_ENQUIRY_END_POINT = `${API_BASE_URL}/website/${websiteID}/affiliation-enquiry/create`;
      
              const productform = e.target; // Reference to the form element
              const WEBSITE_ID_KEY = WEBSITEIDKEY;
      
              // Prepare the payload from the form fields
              const payload = {
                    [PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.name]: productform.querySelector(
                      `input[name="${PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.name}"]`
                  ).value,
                  [PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone]: Number(productform.querySelector(
                      `input[name="${PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone}"]`
                  ).value),
                  [PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.email]: productform.querySelector(
                      `input[name="${PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.email}"]`
                  ).value,
                  [PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.city]: productform.querySelector(
                      `input[name="${PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.city}"]`
                  ).value,
                  [PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks]: productform.querySelector(
                      `textarea[name="${PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks}"]`
                  ).value,
                  [PROJECT_ENQUIRY_DYNAMIC_FIELDS_KEYS.projectName]: "<%= projectDetails._id %>",
              };
      
              // Set headers for the request
              const headers = new Headers({
                  "Content-Type": "application/json",
              });
      
              // Send POST request to the API
              const response = await fetch(CREATE_PROJECT_ENQUIRY_END_POINT, {
                  method: "POST",
                  headers,
                  body: JSON.stringify(payload),
              });
      
              // Handle response
              if (!response.ok) {
                  throw new Error(`HTTP error! Status: ${response.status}`);
              }
      
              const data = await response.json();
      
              // Redirect to the thank-you page on success
              sessionStorage.setItem("thankYouMessage", "We've Recieved Your Message and will Contact you soon.");
              window.location.href = "/thankyou";
          } catch (error) {
              console.error("Form submission error", error);
              // Optionally, you can show an error message or log the error
          }
      });
</script>

<script>
    function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth' // for smooth scrolling
    });
}
</script>